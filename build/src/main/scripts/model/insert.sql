connect 'jdbc:derby:../db/master';

INSERT INTO APP.DATASOURCE (ID, NAME, DATA, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('fd0b02db-021f-4437-b5dd-d02b1faa07fb', 'TEMPLATE-OMDB', '{"protocol":"mysql","host":"#OMDB_HOST#","port":#OMDB_PORT#,"schema":"#OMDB_SCHEMA#","tableOrSql":"select * from omdb.v_endpoint","column":"update_time","start":"2017-10-16 11:36:16.000","step":3600,"properties":{"user":"#OMDB_USER#","password":"#OMDB_PWD#","encoding":"UTF-8","fromstart":"true"},"table":"select * from omdb.v_endpoint","SELECT":"SELECT * FROM (select * from omdb.v_endpoint) as tmp where update_time> ? and update_time<= ? order by tmp.update_time asc","SELECT_FOR_META":"SELECT * FROM (select * from omdb.v_endpoint) as tmp where 1=2","MAX":"SELECT max(tmp.update_time) FROM (select * from omdb.v_endpoint) as tmp","MIN":"SELECT min(tmp.update_time) FROM (select * from omdb.v_endpoint) as tmp","name":"jdbc"}', '2017-10-25 17:18:00.495000000', '2017-10-16 17:17:33.646000000', 1);
INSERT INTO APP.DATASOURCE (ID, NAME, DATA, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('dd779e4f-d0c5-4574-9429-2d1a81fde707', 'TEMPLATE-KAFKA', '{"hostPorts":"#DATASOURCE_KAFKA_HOSTPORTS#","topic":"#DATASOURCE_KAFKA_TOPIC#","codec":{"name":"line"},"wildcard":"false","position":"END","name":"kafka"}', '2017-10-25 17:18:21.595000000', '2017-10-18 11:16:27.928000000', 1);
INSERT INTO APP.DATASOURCE (ID, NAME, DATA, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('67c5d8f0-3e14-456c-94a6-989155bdc2a0', 'TEMPLATE-Master-log', '{"path":"#MASTER_DATASOURCE#","contentType":{"name":"txt"},"codec":{"name":"line"},"position":"END","skipLine":0,"name":"file"}', '2017-10-25 17:44:21.872000000', '2017-10-25 17:33:52.487000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('8bb8f01f-5316-46e3-b6eb-50a34a410e72', 'SAMPLATE-Apache', '218.19.140.242 - - [10/Dec/2010:09:31:17 +0800] "GET /query/trendxml/district/todayreturn/month/2009-12-14/2010-12-09/haizhu_tianhe.xml HTTP/1.1" 200 1933 "-" "Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9.2.8) Gecko/20100722 Firefox/3.6.8 (.NET CLR 3.5.30729)"', '{"value":"%{IP:src_address}\\s+%{DATA:client_flag}\\s+%{DATA:user_account}\\s+\\[%{DATA:ts}\\]\\s+\\\"%{DATA:uri}\\\"\\s+%{NUMBER:response_code}\\s+%{NUMBER:bytes_sent}\\s+\\\"%{DATA:http_referer}\\\"\\s+\\\"%{DATA:user_agent}\\\"","filter":[{"fields":{"ts":"@timestamp"},"name":"mapping"},{"field":"uri","parser":{"value":"%{WORD:request_method}\\s+%{DATA:request}\\s+%{WORD:protocol}\\/%{ALL:protocol_version}","metadata":[["request","string",""],["protocol","string",""],["protocol_version","string",""],["request_method","string",""]],"name":"regex"},"ref":"53efdd92-cab8-4f85-a5fd-6dd532f82efa","name":"reParser"}],"metadata":[["@timestamp","datetime","dd/MMM/yyyy:HH:mm:ss Z"],["http_referer","string",""],["request","string",""],["response_code","string",""],["user_agent","string",""],["client_flag","string",""],["request_method","string",""],["src_address","string",""],["user_account","string",""],["bytes_sent","long",""],["protocol_version","string",""],["protocol","string",""]],"name":"regex"}', '[{"id":"c97370c9-d205-4edd-b310-0908adb000ff","type":"datetime","key":"@timestamp","format":"dd/MMM/yyyy:HH:mm:ss Z","sample":"Fri Dec 10 09:31:17 CST 2010"},{"id":"2a280b00-ad46-437e-a732-7df36f05ae3e","type":"string","key":"http_referer","sample":"-"},{"id":"3920fb93-db86-41fc-9838-8a530dbb721c","type":"string","key":"request","sample":"/query/trendxml/district/todayreturn/month/2009-12-14/2010-12-09/haizhu_tianhe.xml"},{"id":"fb08646c-6005-4e35-a0bb-d1971db41219","type":"string","key":"response_code","sample":"200"},{"id":"2edd9460-f0b8-4da1-a401-6052a4b7c5e5","type":"string","key":"user_agent","sample":"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9.2.8) Gecko/20100722 Firefox/3.6.8 (.NET CLR 3.5.30729)"},{"id":"bd03c0fa-b8e2-45cb-9ef8-956b100273a0","type":"string","key":"client_flag","sample":"-"},{"id":"81a309ba-56f6-44af-ad06-94dded2991e5","type":"string","key":"request_method","sample":"GET"},{"id":"160618a4-ea45-4da9-afe4-5be67c16d09c","type":"string","key":"src_address","sample":"218.19.140.242"},{"id":"ba0b5aa0-d0e0-4ba2-bb22-24d218b82f97","type":"string","key":"user_account","sample":"-"},{"id":"9cd28a36-26f0-4ab7-bb97-dff640ed99f5","type":"long","key":"bytes_sent","sample":"1933"},{"id":"eb2238e8-1b9c-4a02-b0e8-12683be6113b","type":"string","key":"protocol_version","sample":"1.1"},{"id":"f2c434bd-ba5d-4e23-9f3d-1051a5564525","type":"string","key":"protocol","sample":"HTTP"}]', '2017-11-02 15:38:17.957000000', '2017-11-02 13:50:50.080000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('4403f785-00d8-4a0f-9933-d30d0e44be6d', 'SAMPLATE-CSV', '2017-06-28 13:05:00,intf1,10.1.5.148,10.1.9.16,1,1,2.653125,AAAAAAA,JK03,100,0,0,0,0,0,0', '{"delimit":",","fields":["@timestamp","intf","ip_src","ip_dst","trans_count","succ_count","resp_time","ret_code","trans_type","trans_channel","resp_time_bucket_1","resp_time_bucket_2","resp_time_bucket_3","resp_time_bucket_4","resp_time_bucket_5","no_resp_bucket"],"filter":[{"field":"@timestamp","cases":[{"value":"time","rule":{"name":"drop"},"name":"case"}],"name":"redirect"}],"metadata":[["@timestamp","string",""],["resp_time_bucket_4","string",""],["resp_time","string",""],["resp_time_bucket_5","string",""],["trans_type","string",""],["ip_src","string",""],["trans_channel","string",""],["resp_time_bucket_2","string",""],["intf","string",""],["no_resp_bucket","string",""],["resp_time_bucket_1","string",""],["succ_count","string",""],["ret_code","string",""],["resp_time_bucket_3","string",""],["ip_dst","string",""],["trans_count","string",""]],"name":"delimit"}', '[{"id":"e6986b0d-4fa3-4240-b50e-efa132312b20","type":"string","key":"@timestamp","sample":"Wed Jun 28 13:05:00 CST 2017"},{"id":"fdd46278-7250-4b8a-a9e0-55cbdae7a300","type":"string","key":"resp_time_bucket_4","sample":"0"},{"id":"bfb51204-399f-44f1-8288-40363c9d2ddb","type":"string","key":"resp_time","sample":"2.653125"},{"id":"4e0fc90b-e420-4f82-a5ef-204028791761","type":"string","key":"resp_time_bucket_5","sample":"0"},{"id":"b8e078ad-9622-4e81-993a-d3c8944690c9","type":"string","key":"trans_type","sample":"JK03"},{"id":"8ad67984-786f-4b23-a95c-b6a7658ffab8","type":"string","key":"ip_src","sample":"10.1.5.148"},{"id":"bd52e295-07e9-4f7b-893e-c7e70e53bc66","type":"string","key":"trans_channel","sample":"100"},{"id":"4962f6cf-5aac-4ca9-a321-dbc18967085a","type":"string","key":"resp_time_bucket_2","sample":"0"},{"id":"9e621caf-321b-4dc7-a016-b762f988d8b0","type":"string","key":"intf","sample":"intf1"},{"id":"2e24d18b-cb45-4e9b-babd-63a374e7c012","type":"string","key":"no_resp_bucket","sample":"0"},{"id":"ce13cffd-716e-428e-9393-93f335d21475","type":"string","key":"resp_time_bucket_1","sample":"0"},{"id":"c1591248-132e-48e2-a377-d3a52dcd2220","type":"string","key":"succ_count","sample":"1"},{"id":"2e60db42-2ae4-47ef-95ea-b2445391ae55","type":"string","key":"ret_code","sample":"AAAAAAA"},{"id":"77db368e-29c3-46cf-b59e-3f86f9f9a799","type":"string","key":"resp_time_bucket_3","sample":"0"},{"id":"87c12c5a-8d5c-44b3-8d16-1d66dde6cf16","type":"string","key":"ip_dst","sample":"10.1.9.16"},{"id":"5eb64128-03ca-4f4d-8aab-6f96427ebab8","type":"string","key":"trans_count","sample":"1"}]', '2017-10-25 11:42:52.573000000', '2017-09-29 15:52:16.132000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('dee314c5-6967-4e92-9973-1a08bdb61ee0', 'SAMPLATE-DB2-diag', '2017-09-16-00.30.37.418012+480 I71367E408            LEVEL: Event	PID     : 117144               TID : 139784261461760 PROC : db2sysc 0	INSTANCE: db2inst1             NODE : 000	HOSTNAME: svr17.bj.sss	EDUID   : 1                    EDUNAME: db2sysc 0	FUNCTION: DB2 UDB, fast comm manager, sqkfNodeManager::initNodeManager, probe:9	DATA #1 : <preformatted>	Is Cluster Manager enabled? true or false = 0', '{"value":"%{DATE:date}-%{HOUR:hour}\\.%{MINUTE:minute}\\.%{SECOND:second}\\.%{MCRO_SECOND:mill}%{DATA:zone}\\s+%{WORD:record_id}\\s*%{ALL:content}\\s*FUNCTION\\s*:\\s*%{ALL:function}","filter":[{"script":"if(event.get(\"zone\") != \"\" && event.get(\"zone\") != null){\n    var zone_num = event.get(\"zone\").substring(1)\n    var zone = event.get(\"zone\").substring(0,1)\n    zone_num = parseInt(zone_num/60)\n    if(zone_num < 10){\n        zone = zone+\"0\"+zone_num\n    } else {\n        zone = zone+zone_num\n    }\n    event.put(\"date\", event.get(\"date\")+\" \"+event.get(\"hour\")+\":\"+event.get(\"minute\")+\":\"+event.get(\"second\")+\".\"+event.get(\"mill\").substring(0,3)+\"\"+zone+\"00\")\n    event.remove(\"_month_num\")\n    event.remove(\"_year\")\n    event.remove(\"_month_day\")\n    event.remove(\"hour\")\n    event.remove(\"minute\")\n    event.remove(\"second\")\n    event.remove(\"mill\")\n    event.remove(\"zone\")\n}","name":"script"},{"script":"var content = event.get(\"content\")\nvar newCont = \"\"\nif(content != \"\" && content != null){\n    content = content.replace(/[\\s]+/g, '' '')\n    content = content.replace(/\\s:/g, '':'')\n    content = content.replace(/:\\s/g, '':'')\n    while(content.lastIndexOf(\":\") > -1){\n        newCont = content.substring(content.lastIndexOf(\":\"))+newCont\n        content = content.substring(0,content.lastIndexOf(\":\"))\n        if(content.lastIndexOf(\" \")>-1){\n            newCont = \"@\"+content.substring(content.lastIndexOf(\" \")+1)+newCont\n            content = content.substring(0,content.lastIndexOf(\" \"))\n        }else{\n            newCont = content.substring(content.lastIndexOf(\" \")+1)+newCont\n        }\n    }\n    var arr = newCont.split(\"@\")\n    for(var i=0; i<arr.length; i++){\n        var kv = arr[i].split(\":\")\n        event.put(kv[0],kv[1])\n    }\n    event.remove(\"content\")\n}\n","name":"script"},{"fields":{"date":"@timestamp"},"name":"mapping"}],"metadata":[["record_id","string",""],["@timestamp","datetime","yyyy-MM-dd HH:mm:ss.SSSZ"],["HOSTNAME","string",""],["INSTANCE","string",""],["PID","string",""],["TID","string",""],["PROC","string",""],["LEVEL","string",""],["NODE","string",""],["EDUID","string",""],["function","string",""],["content","string",""],["EDUNAME","string",""]],"name":"regex"}', '[{"id":"4a02da94-8082-4137-a48a-3449cd1f5b31","type":"string","key":"record_id","sample":"I71367E408"},{"id":"4b879210-0225-45e0-8c51-42d265408fad","type":"datetime","key":"@timestamp","format":"yyyy-MM-dd HH:mm:ss.SSSZ","sample":"Sat Sep 16 00:30:37 CST 2017"},{"id":"6e1674e6-389f-44c6-b5c4-14290e15631a","type":"string","key":"HOSTNAME","sample":"svr17.bj.raysdata"},{"id":"d80829f2-8a96-4b36-be38-2a5d617f6a99","type":"string","key":"INSTANCE","sample":"db2inst1"},{"id":"e385dc98-84fb-4fe7-8940-b74780a6c8cf","type":"string","key":"PID","sample":"117144"},{"id":"8d303474-5031-4d22-a5e0-829a211281f7","type":"string","key":"TID","sample":"139784261461760"},{"id":"84b39f23-adf2-4603-8071-a46fe23f1441","type":"string","key":"PROC","sample":"db2sysc 0"},{"id":"31807715-a497-4a3e-82fd-059452ebd26c","type":"string","key":"LEVEL","sample":"Event"},{"id":"cf94b847-9426-432a-8435-8e2f2693704f","type":"string","key":"NODE","sample":"000"},{"id":"f9feedfe-2a12-4488-af97-6e630d0f7b5d","type":"string","key":"EDUID","sample":"1"},{"id":"65580d13-3336-4b14-99d0-8d9265d44b7b","type":"string","key":"function","sample":"DB2 UDB, fast comm manager, sqkfNodeManager::initNodeManager, probe:9\tDATA #1 : <preformatted>\tIs Cluster Manager enabled? true or false = 0"},{"id":"a4f46ae1-d314-4eb3-b80f-db1ca7f04fb2","type":"string","key":"EDUNAME","sample":"db2sysc 0 "}]', '2017-10-27 10:43:56.940000000', '2017-10-25 17:43:45.845000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('4165e7b2-e98e-437f-80de-2a65bbd2eedf', 'SAMPLATE-Master-log', '2017-10-26 18:38:44,043 DEBUG com.haima.sage.bigdata.etl.server.Master$ (ConfigRouter.scala:140)  receive start 286c5e87-e02f-4275-80dd-6d77f5288b85', '{"value":"%{DATA:ts} +%{WORD:logType}\\s+%{DATA:url}\\s+\\(%{DATA:className}:%{NUMBER:lineNum}\\)\\s+%{ALL:msg}","filter":[{"fields":{"ts":"@timestamp"},"name":"mapping"}],"metadata":[["@timestamp","datetime","MMM-dd HH:mm:ss"],["hostname","string",""],["code","string",""],["msg","string",""],["action","string",""]],"name":"regex"}', '[{"id":"e80526a2-26fa-4910-ba8c-fe94b5ca2e2a","type":"string","key":"logType","sample":"DEBUG"},{"id":"2cf091ff-dd47-48c3-b442-94069813a424","type":"datetime","key":"@timestamp","format":"yyyy-MM-dd HH:mm:ss,SSS","sample":"2017-10-26 18:38:44,043"},{"id":"6581155e-6d6e-4a2a-8719-b126e2c3d3f9","type":"string","key":"url","sample":"com.haima.sage.bigdata.etl.server.Master$"},{"id":"ae1ee807-146f-4a63-b438-e1d411b1c02c","type":"string","key":"className","sample":"ConfigRouter.scala"},{"id":"31354f18-05b5-406d-8066-555e1348cc0d","type":"string","key":"msg","sample":"receive start 286c5e87-e02f-4275-80dd-6d77f5288b85"},{"id":"680c9a88-c8c2-49d1-84f8-4ae294373ce2","type":"string","key":"lineNum","sample":"140"}]', '2017-10-27 10:43:56.940000000', '2017-10-25 17:43:45.845000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('8819981d-4e35-4254-8a58-58e1bd29d5d6', 'SAMPLATE-MySQL-mysqld', '2017-05-26 16:34:21 10544 [Warning] Buffered warning: Changed limits: table_open_cache: 431 (requested 2000)', '{"value":"%{DATA:ts}\\s+%{NUMBER:pid}\\s+\\[%{DATA:level}\\]\\s+%{ALL:msg}","filter":[{"fields":{"ts":"@timestamp"},"name":"mapping"}],"metadata":[["ts","datetime","yyyy-MM-dd HH:mm:ss"],["pid","string",""],["raw","string",""],["msg","string",""],["level","string",""],["@timestamp","string",""]],"name":"regex"}', '[{"id":"0e458f22-0f9d-4b6d-a1f2-8e5725814f06","type":"datetime","key":"ts","format":"yyyy-MM-dd HH:mm:ss","sample":"2017-05-26 16:34:21"},{"id":"ff53f103-63d2-45ff-99e6-6e70cbf0730a","type":"string","key":"pid","sample":"10544"},{"id":"b5fa190a-b900-4031-ab64-756144faa02a","type":"string","key":"raw","sample":"2017-05-26 16:34:21 10544 [Warning] Buffered warning: Changed limits: table_open_cache: 431 (requested 2000)"},{"id":"8d068957-d96b-4cb0-9cde-bfd84bcf3ddc","type":"string","key":"msg","sample":"Buffered warning: Changed limits: table_open_cache: 431 (requested 2000)"},{"id":"7631254e-9f39-4eb4-b03a-a8d4753a8072","type":"string","key":"level","sample":"Warning"},{"id":"39357d53-b483-4a65-8337-9c499244daec","type":"string","key":"@timestamp","sample":"2017-05-26 16:34:21"}]', '2017-11-02 18:41:16.543000000', '2017-11-02 18:41:16.543000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('c9602845-a850-4607-beb6-da297dccda11', 'SAMPLATE-Nginx-access', '10.20.50.137 - guwei [01/Sep/2017:16:44:47 +0800] "POST /api/v1/requirement/list HTTP/1.1" 200 532 "http://test.raysdata-lab.com" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36" "-"', '{"value":"%{IP:src_address}\\s+%{DATA:client_flag}\\s+%{DATA:user_account}\\s+\\[%{DATA:ts}\\]\\s+\\\"%{DATA:uri}\\\"\\s+%{NUMBER:response_code}\\s+%{NUMBER:bytes_sent}\\s+\\\"%{DATA:http_referer}\\\"\\s+\\\"%{DATA:user_agent}\\\"\\s+\\\"%{DATA:forwarded_for}\\\"","filter":[{"fields":{"ts":"@timestamp"},"name":"mapping"},{"field":"uri","parser":{"value":"%{WORD:request_method}\\s+%{DATA:request}\\s+%{WORD:protocol}\\/%{ALL:protocol_version}","metadata":[["request","string",""],["protocol","string",""],["protocol_version","string",""],["request_method","string",""]],"name":"regex"},"ref":"53efdd92-cab8-4f85-a5fd-6dd532f82efa","name":"reParser"}],"metadata":[["@timestamp","datetime","dd/MMM/yyyy:HH:mm:ss Z"],["http_referer","string",""],["request","string",""],["response_code","string",""],["user_agent","string",""],["client_flag","string",""],["forwarded_for","string",""],["request_method","string",""],["src_address","string",""],["user_account","string",""],["bytes_sent","long",""],["protocol_version","string",""],["protocol","string",""]],"name":"regex"}', '[{"id":"c3726195-bc63-4ec9-b5ea-e44b4ff7e18a","type":"datetime","key":"@timestamp","format":"dd/MMM/yyyy:HH:mm:ss Z","sample":"Fri Sep 01 16:44:47 CST 2017"},{"id":"5b52ce94-1a9f-492b-9be9-86bd10cf1ad7","type":"string","key":"http_referer","sample":"http://test.raysdata-lab.com"},{"id":"ca0d1ffb-728c-44b0-82d2-7b9ef252006f","type":"string","key":"request","sample":"/api/v1/requirement/list"},{"id":"f107e14c-5093-4c06-9449-edd92ef9d7ca","type":"string","key":"response_code","sample":"200"},{"id":"22b54bef-dcb2-4026-b870-d612435428fd","type":"string","key":"user_agent","sample":"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36"},{"id":"cc6bc0c6-cd75-49ad-93cf-ccdd71d23cc0","type":"string","key":"client_flag","sample":"-"},{"id":"6eb6787d-4861-4ad2-8ea9-26162ff4296c","type":"string","key":"forwarded_for","sample":"-"},{"id":"759a14e3-245d-4ed9-9753-c964ee4593c0","type":"string","key":"request_method","sample":"POST"},{"id":"df49432d-fd6d-49af-8a64-f4b3c1d3aff0","type":"string","key":"src_address","sample":"10.20.50.137"},{"id":"ba0e106e-329b-4003-86e1-220dad3e4298","type":"string","key":"user_account","sample":"guwei"},{"id":"924aec04-d528-435a-9192-1f5c0825b2ed","type":"long","key":"bytes_sent","sample":"532"},{"id":"ba3389c9-cb3b-434e-91eb-cdc3310c8abd","type":"string","key":"protocol_version","sample":"1.1"},{"id":"fc43fc1b-a448-425e-9213-85420b3d0052","type":"string","key":"protocol","sample":"HTTP"}]', '2017-11-02 15:52:19.444000000', '2017-11-02 15:42:16.313000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('de6b5fa5-5aff-4529-bbd2-3e7f2d14ccf1', 'SAMPLATE-OMDB', '', '{"metadata":[["endpoint","string",""],["endpoint_name","string",""],["display_name","string",""],["update_time","datetime","yyyy-MM-dd HH:mm:ss"],["category_code","string",""],["category_name","string",""],["endpoint_id","string",""]],"name":"nothing"}', '[{"id":"9a9e457c-890d-4734-9912-cbb36dc5f599","type":"string","key":"endpoint","sample":""},{"name":"","type":"string","key":"endpoint_name","sample":""},{"name":"","type":"string","key":"display_name","sample":""},{"name":"","type":"datetime","key":"update_time","format":"yyyy-MM-dd HH:mm:ss","sample":""},{"name":"","type":"string","key":"category_code","sample":""},{"name":"","type":"string","key":"category_name","sample":""},{"name":"","type":"string","key":"endpoint_id","sample":""}]', '2017-10-27 14:50:35.452000000', '2017-10-27 14:28:04.017000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('88d2d0e6-f749-416b-b3d1-a0bbd43f4620', 'SAMPLATE-OMDB', '{"endpoint":"10.10.0.12_NULL0"}', '{"filter":[{"id":"296b4b2f-257c-4933-9190-060cd735962f","column":"endpoint","value":"endpoint","isScript":false,"name":"byKnowledge"},{"fields":["endpoint"],"name":"removeFields"}],"metadata":[["DISPLAY_NAME","string",""],["CATEGORY_CODE","string",""],["UPDATE_TIME","string",""],["ENDPOINT","string",""],["ENDPOINT_NAME","string",""],["CATEGORY_NAME","string",""]],"name":"json"}', '[{"id":"423f7744-c60c-4c2c-9572-0041b59554da","type":"string","key":"DISPLAY_NAME","sample":"RZ-IDC-I02-MSW-S2720-01_端口_2"},{"id":"a378442d-4fc6-4770-bd41-638d102ec245","type":"string","key":"CATEGORY_CODE","sample":"900002001"},{"id":"15a14ca8-61dd-409d-9685-5e56463ac3fe","type":"string","key":"UPDATE_TIME","sample":"\"2017-10-19 11:37:20\""},{"id":"c4b064d5-1216-4ded-8401-4c3d065408e0","type":"string","key":"ENDPOINT","sample":"10.10.0.12_NULL0"},{"id":"ee5887cd-0f0b-451e-845c-f361fee936c1","type":"string","key":"ENDPOINT_NAME","sample":"RZ-IDC-I02-MSW-S2720-01_端口_2"},{"id":"5b5c8adc-ca92-4c0e-9d70-b77b48cae594","type":"string","key":"CATEGORY_NAME","sample":"端口"}]', '2017-10-26 09:44:26.124000000', '2017-10-17 14:09:17.572000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('dd54b426-628b-402f-bc20-925a460a4f18', 'SAMPLATE-Oracle-listener-json（sub）', '{
    "ADDRESS": {
        "HOST": "10.10.161.14",
        "PORT": "42242",
        "PROTOCOL": "tcp"
    }
}', '{"filter":[],"metadata":[["ADDRESS","object",""],["ADDRESS.PORT","string",""],["ADDRESS.PROTOCOL","string",""],["ADDRESS.HOST","string",""]],"name":"json"}', '[{"id":"0c68f41e-eb5d-4268-a23f-1d831277c40c","type":"object","key":"ADDRESS","sample":"{\"PORT\":\"42242\",\"PROTOCOL\":\"tcp\",\"HOST\":\"10.10.161.14\"}"},{"id":"a87ba244-7a93-4b90-b41a-f8ad68633a01","type":"string","key":"ADDRESS.PORT","sample":"42242"},{"id":"44bbc1e3-9084-4400-92e3-e82b803d145c","type":"string","key":"ADDRESS.PROTOCOL","sample":"tcp"},{"id":"29c5e509-95bb-43a3-9b05-a0a61ba2e553","type":"string","key":"ADDRESS.HOST","sample":"10.10.161.14"}]', '2017-12-12 17:25:05.042000000', '2017-12-12 17:24:36.761000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('724cff2f-ffc8-4b6a-8e31-61b6ab24384c', 'SAMPLATE-Oracle-listener-connect-event（sub）', '12-OCT-2016 19:59:12 * (CONNECT_DATA=(CID=(PROGRAM=)(HOST=DRTEST)(USER=oracle))(COMMAND=services)(ARGUMENTS=64)(SERVICE=(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=DRTEST)(PORT=1521))))(VERSION=186646784)) * services * 0', '{"delimit":"*","fields":["@timestamp","connect","event","return_code"],"filter":[{"script":"var connect = event.get(\"connect\")\nif(connect != \"\" && connect != null){\n    connect = connect.replace(/\\)\\(/g, \"\\\",\\\"\")\n    connect = connect.replace(/\\(\\(\\(\\(/g, \"{{{{\\\"\")\n    connect = connect.replace(/\\(\\(\\(/g, \"{{{\\\"\")\n    connect = connect.replace(/\\(\\(/g, \"{{\\\"\")\n    connect = connect.replace(/\\(/g, \"{\\\"\")\n    connect = connect.replace(/\\)\\)\\)\\)/g, \"\\\"}}}}\")\n    connect = connect.replace(/\\)\\)\\)/g, \"\\\"}}}\")\n    connect = connect.replace(/\\)\\)/g, \"\\\"}}\")\n    connect = connect.replace(/\\)/g, \"\\\"}\")\n    connect = connect.replace(/=/g, \"\\\":\\\"\")\n    connect = connect.replace(/:\"{/g, \":{\")\n    connect = connect.replace(/}\",/g, \"},\")\n    event.put(\"connect\", connect)\n}","name":"script"},{"field":"connect","parser":{"filter":[],"metadata":[["ADDRESS","object",""],["ADDRESS.PORT","string",""],["ADDRESS.PROTOCOL","string",""],["ADDRESS.HOST","string",""]],"name":"json"},"ref":"dd54b426-628b-402f-bc20-925a460a4f18","name":"reParser"}],"metadata":[["@timestamp","datetime","dd-MMM-yyyy HH:mm:ss"],["event","string",""],["return_code","string",""],["connect","string",""]],"name":"delimit"}', '[{"id":"3b2db821-2ff5-4626-8472-cd57b5ff8214","type":"datetime","key":"@timestamp","format":"dd-MMM-yyyy HH:mm:ss","sample":"Wed Oct 12 19:59:12 CST 2016"},{"id":"25e2710c-0617-4ac0-a59c-3b7cf58ce18a","type":"string","key":"event","sample":"services"},{"id":"4cf29ace-268b-4887-b569-3db5e8ef2be7","type":"string","key":"return_code","sample":"0"},{"id":"5feed6af-6d24-4002-9a61-63d7a8c68678","type":"object","key":"CONNECT_DATA","sample":"{\"ARGUMENTS\":\"64\",\"VERSION\":\"186646784\",\"COMMAND\":\"services\",\"SERVICE\":{\"DESCRIPTION\":{\"ADDRESS\":{\"PORT\":\"1521\",\"PROTOCOL\":\"TCP\",\"HOST\":\"DRTEST\"}}},\"CID\":{\"HOST\":\"DRTEST\",\"USER\":\"oracle\",\"PROGRAM\":\"\"}}"},{"id":"1811f91c-7143-4ddd-8450-58b1a58ed43b","type":"string","key":"CONNECT_DATA.ARGUMENTS","sample":"64"},{"id":"1393e9c4-32ed-45b3-88ad-08f248b6718d","type":"string","key":"CONNECT_DATA.VERSION","sample":"186646784"},{"id":"dee47843-f162-4131-97ca-49e3a986fb22","type":"string","key":"CONNECT_DATA.COMMAND","sample":"services"},{"id":"552afd35-1694-4fc9-99dc-0443de6b16fb","type":"object","key":"CONNECT_DATA.SERVICE","sample":"{\"DESCRIPTION\":{\"ADDRESS\":{\"PORT\":\"1521\",\"PROTOCOL\":\"TCP\",\"HOST\":\"DRTEST\"}}}"},{"id":"b680a672-15ed-44cb-8a97-e4bc1e948334","type":"object","key":"CONNECT_DATA.CID","sample":"{\"HOST\":\"DRTEST\",\"USER\":\"oracle\",\"PROGRAM\":\"\"}"},{"id":"91027766-193e-4a8b-9838-9d621b09e17c","type":"object","key":"CONNECT_DATA.SERVICE.DESCRIPTION","sample":"{\"ADDRESS\":{\"PORT\":\"1521\",\"PROTOCOL\":\"TCP\",\"HOST\":\"DRTEST\"}}"},{"id":"1a9eb88a-620a-48c9-ad1e-a20eeb5fb957","type":"string","key":"CONNECT_DATA.CID.HOST","sample":"DRTEST"},{"id":"6849bebd-d0c0-41fa-923c-dedf2709e028","type":"string","key":"CONNECT_DATA.CID.USER","sample":"oracle"},{"id":"e1146e78-ad96-42fa-821f-adcf4e0e5b91","type":"string","key":"CONNECT_DATA.CID.PROGRAM","sample":""},{"id":"59eca440-f8ca-4e0e-8962-ac96d88fcfbd","type":"object","key":"CONNECT_DATA.SERVICE.DESCRIPTION.ADDRESS","sample":"{\"PORT\":\"1521\",\"PROTOCOL\":\"TCP\",\"HOST\":\"DRTEST\"}"},{"id":"230593e0-5677-4e19-8984-a4bb4c99f522","type":"string","key":"CONNECT_DATA.SERVICE.DESCRIPTION.ADDRESS.PORT","sample":"1521"},{"id":"0cdfd643-7868-47da-8e93-bb2b3dd6481b","type":"string","key":"CONNECT_DATA.SERVICE.DESCRIPTION.ADDRESS.PROTOCOL","sample":"TCP"},{"id":"56c9258c-58df-437c-b562-36c18d8db335","type":"string","key":"CONNECT_DATA.SERVICE.DESCRIPTION.ADDRESS.HOST","sample":"DRTEST"}]', '2017-12-12 17:27:15.630000000', '2017-12-12 15:55:26.769000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('77680cd7-8c11-4679-b9dc-4919247db761', 'SAMPLATE-Oracle-listener-connect-address-event（sub）', '12-OCT-2016 19:58:28 * (CONNECT_DATA=(SID=WAREHOUS)(CID=(PROGRAM=perl@DRTEST)(HOST=DRTEST)(USER=oracle))) * (ADDRESS=(PROTOCOL=tcp)(HOST=10.10.161.14)(PORT=42242)) * establish * WAREHOUS * 0', '{"delimit":"*","fields":["@timestamp","connect","address","event","instance","return_code"],"filter":[{"script":"var connect = event.get(\"connect\")\nif(connect != \"\" && connect != null){\n    connect = connect.replace(/\\)\\(/g, \"\\\",\\\"\")\n    connect = connect.replace(/\\(\\(\\(\\(/g, \"{{{{\\\"\")\n    connect = connect.replace(/\\(\\(\\(/g, \"{{{\\\"\")\n    connect = connect.replace(/\\(\\(/g, \"{{\\\"\")\n    connect = connect.replace(/\\(/g, \"{\\\"\")\n    connect = connect.replace(/\\)\\)\\)\\)/g, \"\\\"}}}}\")\n    connect = connect.replace(/\\)\\)\\)/g, \"\\\"}}}\")\n    connect = connect.replace(/\\)\\)/g, \"\\\"}}\")\n    connect = connect.replace(/\\)/g, \"\\\"}\")\n    connect = connect.replace(/=/g, \"\\\":\\\"\")\n    connect = connect.replace(/:\"{/g, \":{\")\n    connect = connect.replace(/}\",/g, \"},\")\n    event.put(\"connect\", connect)\n}\n\nvar address = event.get(\"address\")\nif(address != \"\" && address != null){\n    address = address.replace(/\\)\\(/g, \"\\\",\\\"\")\n    address = address.replace(/\\(\\(\\(\\(/g, \"{{{{\\\"\")\n    address = address.replace(/\\(\\(\\(/g, \"{{{\\\"\")\n    address = address.replace(/\\(\\(/g, \"{{\\\"\")\n    address = address.replace(/\\(/g, \"{\\\"\")\n    address = address.replace(/\\)\\)\\)\\)/g, \"\\\"}}}}\")\n    address = address.replace(/\\)\\)\\)/g, \"\\\"}}}\")\n    address = address.replace(/\\)\\)/g, \"\\\"}}\")\n    address = address.replace(/\\)/g, \"\\\"}\")\n    address = address.replace(/=/g, \"\\\":\\\"\")\n    address = address.replace(/:\"{/g, \":{\")\n    address = address.replace(/}\",/g, \"},\")\n    event.put(\"address\", address)\n}","name":"script"},{"field":"connect","parser":{"filter":[],"metadata":[["ADDRESS","object",""],["ADDRESS.PORT","string",""],["ADDRESS.PROTOCOL","string",""],["ADDRESS.HOST","string",""]],"name":"json"},"ref":"dd54b426-628b-402f-bc20-925a460a4f18","name":"reParser"},{"field":"address","parser":{"filter":[],"metadata":[["ADDRESS","object",""],["ADDRESS.PORT","string",""],["ADDRESS.PROTOCOL","string",""],["ADDRESS.HOST","string",""]],"name":"json"},"ref":"dd54b426-628b-402f-bc20-925a460a4f18","name":"reParser"}],"metadata":[["@timestamp","datetime","dd-MMM-yyyy HH:mm:ss"],["connect","string",""],["event","string",""],["instance","string",""],["return_code","string",""],["address","string",""]],"name":"delimit"}', '[{"id":"39997699-6c6c-427b-a951-35394bf03ceb","type":"object","key":"ADDRESS","sample":"{\"PORT\":\"42242\",\"PROTOCOL\":\"tcp\",\"HOST\":\"10.10.161.14\"}"},{"id":"c16bb41e-b8eb-4fdf-a7d7-744762c72476","type":"datetime","key":"@timestamp","format":"dd-MMM-yyyy HH:mm:ss","sample":"Wed Oct 12 19:58:28 CST 2016"},{"id":"801219c4-287e-4f45-8541-4cb90caa608b","type":"string","key":"event","sample":"establish"},{"id":"85c3b93c-a27e-439c-a4c7-e204d56b88d9","type":"string","key":"instance","sample":"WAREHOUS"},{"id":"1ca70df3-c7a4-43eb-9dad-fe0d0d635d91","type":"string","key":"return_code","sample":"0"},{"id":"bdbb6108-7cd1-4899-a862-a0f0368f2cd8","type":"object","key":"CONNECT_DATA","sample":"{\"SID\":\"WAREHOUS\",\"CID\":{\"HOST\":\"DRTEST\",\"USER\":\"oracle\",\"PROGRAM\":\"perl@DRTEST\"}}"},{"id":"fcd4adff-79af-43c2-82fa-94c758efe05f","type":"string","key":"ADDRESS.PORT","sample":"42242"},{"id":"695d8259-3271-4c09-82b6-ba0138235703","type":"string","key":"ADDRESS.PROTOCOL","sample":"tcp"},{"id":"27996ff1-3fac-408a-a4b7-c3c8e603eae1","type":"string","key":"ADDRESS.HOST","sample":"10.10.161.14"},{"id":"15deb83e-8c66-45e9-97a7-bfee01d99679","type":"string","key":"CONNECT_DATA.SID","sample":"WAREHOUS"},{"id":"26959458-08be-44f7-8a08-59678176ba24","type":"object","key":"CONNECT_DATA.CID","sample":"{\"HOST\":\"DRTEST\",\"USER\":\"oracle\",\"PROGRAM\":\"perl@DRTEST\"}"},{"id":"cf3081a2-edcd-4fe4-a03e-5f3d164e4fac","type":"string","key":"CONNECT_DATA.CID.HOST","sample":"DRTEST"},{"id":"9ff55d9b-a5f2-4289-b3c6-36ecc16c84fc","type":"string","key":"CONNECT_DATA.CID.USER","sample":"oracle"},{"id":"5c279e0c-944f-437b-b7f3-67f1a2eb8e81","type":"string","key":"CONNECT_DATA.CID.PROGRAM","sample":"perl@DRTEST"}]', '2017-12-12 17:26:21.809000000', '2017-12-12 15:55:39.147000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('d4b7d391-1c6b-4a6a-b0d7-561bb0c92d29', 'SAMPLATE-Oracle-listener', '12-OCT-2016 19:58:28 * (CONNECT_DATA=(SID=WAREHOUS)(CID=(PROGRAM=perl@DRTEST)(HOST=DRTEST)(USER=oracle))) * (ADDRESS=(PROTOCOL=tcp)(HOST=10.10.161.14)(PORT=42242)) * establish * WAREHOUS * 0
12-OCT-2016 19:59:12 * (CONNECT_DATA=(CID=(PROGRAM=)(HOST=DRTEST)(USER=oracle))(COMMAND=services)(ARGUMENTS=64)(SERVICE=(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=DRTEST)(PORT=1521))))(VERSION=186646784)) * services * 0', '{"filter":[{"field":"raw","cases":[{"value":"(SERVICE=(","rule":{"field":"raw","parser":{"delimit":"*","fields":["@timestamp","connect","event","return_code"],"filter":[{"script":"var connect = event.get(\"connect\")\nif(connect != \"\" && connect != null){\n    connect = connect.replace(/\\)\\(/g, \"\\\",\\\"\")\n    connect = connect.replace(/\\(\\(\\(\\(/g, \"{{{{\\\"\")\n    connect = connect.replace(/\\(\\(\\(/g, \"{{{\\\"\")\n    connect = connect.replace(/\\(\\(/g, \"{{\\\"\")\n    connect = connect.replace(/\\(/g, \"{\\\"\")\n    connect = connect.replace(/\\)\\)\\)\\)/g, \"\\\"}}}}\")\n    connect = connect.replace(/\\)\\)\\)/g, \"\\\"}}}\")\n    connect = connect.replace(/\\)\\)/g, \"\\\"}}\")\n    connect = connect.replace(/\\)/g, \"\\\"}\")\n    connect = connect.replace(/=/g, \"\\\":\\\"\")\n    connect = connect.replace(/:\"{/g, \":{\")\n    connect = connect.replace(/}\",/g, \"},\")\n    event.put(\"connect\", connect)\n}","name":"script"},{"field":"connect","parser":{"filter":[],"metadata":[["ADDRESS","object",""],["ADDRESS.PORT","string",""],["ADDRESS.PROTOCOL","string",""],["ADDRESS.HOST","string",""]],"name":"json"},"ref":"dd54b426-628b-402f-bc20-925a460a4f18","name":"reParser"}],"metadata":[["@timestamp","datetime","dd-MMM-yyyy HH:mm:ss"],["event","string",""],["return_code","string",""],["CONNECT_DATA","object",""],["CONNECT_DATA.ARGUMENTS","string",""],["CONNECT_DATA.VERSION","string",""],["CONNECT_DATA.COMMAND","string",""],["CONNECT_DATA.SERVICE","object",""],["CONNECT_DATA.CID","object",""],["CONNECT_DATA.SERVICE.DESCRIPTION","object",""],["CONNECT_DATA.CID.HOST","string",""],["CONNECT_DATA.CID.USER","string",""],["CONNECT_DATA.CID.PROGRAM","string",""],["CONNECT_DATA.SERVICE.DESCRIPTION.ADDRESS","object",""],["CONNECT_DATA.SERVICE.DESCRIPTION.ADDRESS.PORT","string",""],["CONNECT_DATA.SERVICE.DESCRIPTION.ADDRESS.PROTOCOL","string",""],["CONNECT_DATA.SERVICE.DESCRIPTION.ADDRESS.HOST","string",""]],"name":"delimit"},"ref":"724cff2f-ffc8-4b6a-8e31-61b6ab24384c","name":"reParser"},"name":"case"},{"value":"* (ADDRESS=(","rule":{"field":"raw","parser":{"delimit":"*","fields":["@timestamp","connect","address","event","instance","return_code"],"filter":[{"script":"var connect = event.get(\"connect\")\nif(connect != \"\" && connect != null){\n    connect = connect.replace(/\\)\\(/g, \"\\\",\\\"\")\n    connect = connect.replace(/\\(\\(\\(\\(/g, \"{{{{\\\"\")\n    connect = connect.replace(/\\(\\(\\(/g, \"{{{\\\"\")\n    connect = connect.replace(/\\(\\(/g, \"{{\\\"\")\n    connect = connect.replace(/\\(/g, \"{\\\"\")\n    connect = connect.replace(/\\)\\)\\)\\)/g, \"\\\"}}}}\")\n    connect = connect.replace(/\\)\\)\\)/g, \"\\\"}}}\")\n    connect = connect.replace(/\\)\\)/g, \"\\\"}}\")\n    connect = connect.replace(/\\)/g, \"\\\"}\")\n    connect = connect.replace(/=/g, \"\\\":\\\"\")\n    connect = connect.replace(/:\"{/g, \":{\")\n    connect = connect.replace(/}\",/g, \"},\")\n    event.put(\"connect\", connect)\n}\n\nvar address = event.get(\"address\")\nif(address != \"\" && address != null){\n    address = address.replace(/\\)\\(/g, \"\\\",\\\"\")\n    address = address.replace(/\\(\\(\\(\\(/g, \"{{{{\\\"\")\n    address = address.replace(/\\(\\(\\(/g, \"{{{\\\"\")\n    address = address.replace(/\\(\\(/g, \"{{\\\"\")\n    address = address.replace(/\\(/g, \"{\\\"\")\n    address = address.replace(/\\)\\)\\)\\)/g, \"\\\"}}}}\")\n    address = address.replace(/\\)\\)\\)/g, \"\\\"}}}\")\n    address = address.replace(/\\)\\)/g, \"\\\"}}\")\n    address = address.replace(/\\)/g, \"\\\"}\")\n    address = address.replace(/=/g, \"\\\":\\\"\")\n    address = address.replace(/:\"{/g, \":{\")\n    address = address.replace(/}\",/g, \"},\")\n    event.put(\"address\", address)\n}","name":"script"},{"field":"connect","parser":{"filter":[],"metadata":[["ADDRESS","object",""],["ADDRESS.PORT","string",""],["ADDRESS.PROTOCOL","string",""],["ADDRESS.HOST","string",""]],"name":"json"},"ref":"dd54b426-628b-402f-bc20-925a460a4f18","name":"reParser"},{"field":"address","parser":{"filter":[],"metadata":[["ADDRESS","object",""],["ADDRESS.PORT","string",""],["ADDRESS.PROTOCOL","string",""],["ADDRESS.HOST","string",""]],"name":"json"},"ref":"dd54b426-628b-402f-bc20-925a460a4f18","name":"reParser"}],"metadata":[["ADDRESS","object",""],["@timestamp","datetime","dd-MMM-yyyy HH:mm:ss"],["event","string",""],["instance","string",""],["return_code","string",""],["CONNECT_DATA","object",""],["ADDRESS.PORT","string",""],["ADDRESS.PROTOCOL","string",""],["ADDRESS.HOST","string",""],["CONNECT_DATA.SID","string",""],["CONNECT_DATA.CID","object",""],["CONNECT_DATA.CID.HOST","string",""],["CONNECT_DATA.CID.USER","string",""],["CONNECT_DATA.CID.PROGRAM","string",""]],"name":"delimit"},"ref":"77680cd7-8c11-4679-b9dc-4919247db761","name":"reParser"},"name":"case"}],"default":{"name":"drop"},"name":"contain"}],"metadata":[["@timestamp","datetime","dd-MMM-yyyy HH:mm:ss"],["event","string",""],["return_code","string",""],["CONNECT_DATA","object",""],["CONNECT_DATA.SID","string",""],["CONNECT_DATA.CID","object",""],["CONNECT_DATA.CID.HOST","string",""],["CONNECT_DATA.CID.USER","string",""],["CONNECT_DATA.CID.PROGRAM","string",""]],"name":"nothing"}', '[{"id":"77907134-fa45-487b-9b41-8f550de02258","type":"datetime","key":"@timestamp","format":"dd-MMM-yyyy HH:mm:ss","sample":"Wed Oct 12 19:58:28 CST 2016"},{"id":"60a50c46-ae08-48c1-bc4d-b01d053632a1","type":"string","key":"event","sample":"(ADDRESS=(PROTOCOL=tcp)(HOST=10.10.161.14)(PORT=42242))"},{"id":"cc9aec86-ce92-4348-aee3-778700342d91","type":"string","key":"return_code","sample":"establish * WAREHOUS * 0\n12-OCT-2016 19:59:12 * (CONNECT_DATA=(CID=(PROGRAM=)(HOST=DRTEST)(USER=oracle))(COMMAND=services)(ARGUMENTS=64)(SERVICE=(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=DRTEST)(PORT=1521))))(VERSION=186646784)) * services * 0"},{"id":"eab80e80-32ff-4d8b-9142-8ea9aeb76d34","type":"object","key":"CONNECT_DATA","sample":"{\"SID\":\"WAREHOUS\",\"CID\":{\"HOST\":\"DRTEST\",\"USER\":\"oracle\",\"PROGRAM\":\"perl@DRTEST\"}}"},{"id":"2d8dfa0d-e5e9-46d6-8975-4791dcc0d9ba","type":"string","key":"CONNECT_DATA.SID","sample":"WAREHOUS"},{"id":"81e87b89-507b-4d61-ace4-1dbdf95f3b5a","type":"object","key":"CONNECT_DATA.CID","sample":"{\"HOST\":\"DRTEST\",\"USER\":\"oracle\",\"PROGRAM\":\"perl@DRTEST\"}"},{"id":"22ff084a-7df5-471d-bf50-9a38e3a6c4d9","type":"string","key":"CONNECT_DATA.CID.HOST","sample":"DRTEST"},{"id":"be0864cc-f529-4058-9785-ec23a1e763db","type":"string","key":"CONNECT_DATA.CID.USER","sample":"oracle"},{"id":"36bb9fb8-c2ad-4e36-9dd6-69df650bb67b","type":"string","key":"CONNECT_DATA.CID.PROGRAM","sample":"perl@DRTEST"}]', '2017-12-12 17:41:41.020000000', '2017-12-12 15:56:33.959000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('2c16d235-0ed6-432f-8a04-e98819bb3c43', 'SAMPLATE-Oracle-alert', 'Thu Oct 13 16:15:48 2016	 SYS.METASTYLESHEET (STYLESHEET) - CLOB representation altered	 XDB.XDB$RESOURCE (SYS_NC00027$) - CLOB representation altered	 XDB.XDB$XDB_READY (DATA) - CLOB representation altered	 XDB.XDB$DXPTAB (SYS_NC00006$) - CLOB representation altered	 ORDDATA.ORDDCM_MAPPING_DOCS (SYS_NC00007$) - CLOB representation altered	 ORDDATA.ORDDCM_CT_PRED_OPRD (SYS_NC00004$) - CLOB representation altered	 ORDDATA.ORDDCM_DOCS (SYS_NC00005$) - CLOB representation altered', '{"value":"%{DAY:w} %{MONTH:m} %{MONTH_DAY:d} %{TIME:t} %{YEAR:y}\\s*%{ALL:msg}","filter":[{"fields":["m","d","t","y"],"field":"@timestamp","sep":" ","name":"merger"},{"fields":["w"],"name":"removeFields"}],"metadata":[["msg","string",""],["@timestamp","datetime","MMM dd HH:mm:ss yyyy"]],"name":"regex"}', '[{"id":"7e613621-aaae-4b04-af80-442335ea45ed","type":"string","key":"msg","sample":"SYS.METASTYLESHEET (STYLESHEET) - CLOB representation altered\t XDB.XDB$RESOURCE (SYS_NC00027$) - CLOB representation altered\t XDB.XDB$XDB_READY (DATA) - CLOB representation altered\t XDB.XDB$DXPTAB (SYS_NC00006$) - CLOB representation altered\t ORDDATA.ORDDCM_MAPPING_DOCS (SYS_NC00007$) - CLOB representation altered\t ORDDATA.ORDDCM_CT_PRED_OPRD (SYS_NC00004$) - CLOB representation altered\t ORDDATA.ORDDCM_DOCS (SYS_NC00005$) - CLOB representation altered"},{"id":"6046157a-9de2-4aa4-9669-7006378d0664","type":"datetime","key":"@timestamp","format":"MMM dd HH:mm:ss yyyy","sample":"Thu Oct 13 16:15:48 CST 2016"}]', '2017-12-12 17:01:12.716000000', '2017-12-12 16:45:10.250000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('53efdd92-cab8-4f85-a5fd-6dd532f82efa', 'SAMPLATE-Request（sub）', 'POST /api/v1/requirement/list HTTP/1.1', '{"value":"%{WORD:request_method}\\s+%{DATA:request}\\s+%{WORD:protocol}\\/%{ALL:protocol_version}","metadata":[["request","string",""],["https","string",""],["request_method","string",""],["raw","string",""]],"name":"regex"}', '[{"id":"c4e097f4-a2ba-4017-89c0-43ab99173e0d","type":"string","key":"request","sample":"/api/v1/requirement/list"},{"id":"90c2b83f-0b63-44fd-941b-de262a91bf2e","type":"string","key":"protocol","sample":"HTTP"},{"id":"1155469f-4d09-4f77-981b-f103a0f5c704","type":"string","key":"protocol_version","sample":"1.1"},{"id":"0d2796bc-67fb-4a34-8cb3-64d855133898","type":"string","key":"request_method","sample":"POST"}]', '2017-11-02 14:40:58.857000000', '2017-11-02 14:40:58.857000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('61232e55-3c0c-40ef-8815-1331b8d680bf', 'SAMPLATE-Tomcat-catalina', '03-Jul-2017 11:17:05.322 WARNING [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ELK-Web] appears to have started a thread named [qbScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
 java.lang.Thread.run(Thread.java:745)', '{"value":"%{DATA:ts}\\s+%{WORD:level}\\s+\\[%{DATA:thread_name}\\]\\s+%{ALL:msg}","filter":[{"fields":{"ts":"@timestamp"},"name":"mapping"}],"metadata":[["@timestamp","datetime","dd-MMM-yyyy HH:mm:ss"],["raw","string",""],["msg","string",""],["level","string",""],["thread_name","string",""]],"name":"regex"}', '[{"id":"2f43777b-af71-4d91-9f26-c87b1590c497","type":"datetime","key":"@timestamp","format":"dd-MMM-yyyy HH:mm:ss","sample":"Mon Jul 03 11:17:05 CST 2017"},{"id":"5d82d200-53d0-4f72-b433-1bfcc494dc4b","type":"string","key":"raw","sample":"03-Jul-2017 11:17:05.322 WARNING [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ELK-Web] appears to have started a thread named [qbScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.misc.Unsafe.park(Native Method)\n java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)\n java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n java.lang.Thread.run(Thread.java:745)"},{"id":"7988c9e2-fd06-437e-a634-7e93a38d2d29","type":"string","key":"msg","sample":"org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ELK-Web] appears to have started a thread named [qbScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.misc.Unsafe.park(Native Method)\n java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\n java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\n java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)\n java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n java.lang.Thread.run(Thread.java:745)"},{"id":"ea357216-aed1-423a-955d-62f0533a6321","type":"string","key":"level","sample":"WARNING"},{"id":"1c603e7f-6ba0-4e56-bc63-42e32a29e1e6","type":"string","key":"thread_name","sample":"ContainerBackgroundProcessor[StandardEngine[Catalina]]"}]', '2017-11-02 17:53:54.846000000', '2017-11-02 17:53:54.846000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('1baf50bf-4d22-4bef-be67-4f5d3ece88ee', 'SAMPLATE-Tomcat-localhost', '13-Jul-2017 10:00:03.237 SEVERE [http-nio-8082-exec-3] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [springServlet] in context with path [/opt-web-api] threw exception [Request processing failed; nested exception is java.lang.NumberFormatException: For input string: ""] with root cause
 java.lang.NumberFormatException: For input string: ""
        at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
        at java.lang.Integer.parseInt(Integer.java:592)
        at java.lang.Integer.parseInt(Integer.java:615)
        at com.sss.web.service.impl.DeviceInforServiceImpl.getAssetsListNotSelect(DeviceInforServiceImpl.java:575)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:201)
        at com.sun.proxy.$Proxy57.getAssetsListNotSelect(Unknown Source)
        at com.raysdata.web.control.DeviceInforAction.queryDeviceListNotSelected(DeviceInforAction.java:432)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776)
        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)
        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
        at com.raysdata.web.filter.LogFilter.doFilter(LogFilter.java:46)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)
        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)
        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
        at java.lang.Thread.run(Thread.java:745)', '{"value":"%{DATA:ts}\\s+%{WORD:level}\\s+\\[%{DATA:thread_name}\\]\\s+%{DATA:class_method}\\s+%{ALL:msg}","filter":[{"fields":{"ts":"@timestamp"},"name":"mapping"}],"metadata":[["@timestamp","datetime","dd-MMM-yyyy HH:mm:ss"],["class_method","string",""],["raw","string",""],["msg","string",""],["level","string",""],["thread_name","string",""]],"name":"regex"}', '[{"id":"4f8550a8-dc84-4b3a-bb7d-25bb3e9334fb","type":"datetime","key":"@timestamp","format":"dd-MMM-yyyy HH:mm:ss","sample":"Thu Jul 13 10:00:03 CST 2017"},{"id":"d6ae9f1d-79a7-48c2-861c-0fbad0229168","type":"string","key":"class_method","sample":"org.apache.catalina.core.StandardWrapperValve.invoke"},{"id":"6d9b892a-d334-4c99-b600-394f00c1d5eb","type":"string","key":"raw","sample":"13-Jul-2017 10:00:03.237 SEVERE [http-nio-8082-exec-3] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [springServlet] in context with path [/opt-web-api] threw exception [Request processing failed; nested exception is java.lang.NumberFormatException: For input string: \"\"] with root cause\n java.lang.NumberFormatException: For input string: \"\"\n        at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n        at java.lang.Integer.parseInt(Integer.java:592)\n        at java.lang.Integer.parseInt(Integer.java:615)\n        at com.raysdata.web.service.impl.DeviceInforServiceImpl.getAssetsListNotSelect(DeviceInforServiceImpl.java:575)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:201)\n        at com.sun.proxy.$Proxy57.getAssetsListNotSelect(Unknown Source)\n        at com.raysdata.web.control.DeviceInforAction.queryDeviceListNotSelected(DeviceInforAction.java:432)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at com.raysdata.web.filter.LogFilter.doFilter(LogFilter.java:46)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:745)"},{"id":"34f20e67-bee9-44fe-af29-cce0e328bd97","type":"string","key":"msg","sample":"Servlet.service() for servlet [springServlet] in context with path [/opt-web-api] threw exception [Request processing failed; nested exception is java.lang.NumberFormatException: For input string: \"\"] with root cause\n java.lang.NumberFormatException: For input string: \"\"\n        at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n        at java.lang.Integer.parseInt(Integer.java:592)\n        at java.lang.Integer.parseInt(Integer.java:615)\n        at com.raysdata.web.service.impl.DeviceInforServiceImpl.getAssetsListNotSelect(DeviceInforServiceImpl.java:575)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:201)\n        at com.sun.proxy.$Proxy57.getAssetsListNotSelect(Unknown Source)\n        at com.raysdata.web.control.DeviceInforAction.queryDeviceListNotSelected(DeviceInforAction.java:432)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at com.raysdata.web.filter.LogFilter.doFilter(LogFilter.java:46)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:745)"},{"id":"8335bc65-1b1a-424d-be5e-80273a274fa6","type":"string","key":"level","sample":"SEVERE"},{"id":"dc36592f-57e6-40be-a3c2-f2c5ea314a50","type":"string","key":"thread_name","sample":"http-nio-8082-exec-3"}]', '2017-11-02 18:02:38.592000000', '2017-11-02 18:02:38.592000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('bf4c5f18-2adf-4d88-9201-6a8fb832a35f', 'SAMPLATE-Tomcat-localhost-access', '127.0.0.1 - - [09/Oct/2017:10:34:55 +0800] "POST /opt-web-api/v1/cli-20170814/database/_search HTTP/1.0" 404 992', '{"value":"%{IP:src_address}\\s+%{DATA:client_flag}\\s+%{DATA:user_account}\\s+\\[%{DATA:ts}\\]\\s+\\\"%{DATA:uri}\\\"\\s+%{NUMBER:response_code}\\s+%{NUMBER:bytes_sent}","filter":[{"fields":{"ts":"@timestamp"},"name":"mapping"},{"field":"uri","parser":{"value":"%{WORD:request_method}\\s+%{DATA:request}\\s+%{WORD:protocol}\\/%{ALL:protocol_version}","metadata":[["request","string",""],["protocol","string",""],["protocol_version","string",""],["request_method","string",""]],"name":"regex"},"ref":"53efdd92-cab8-4f85-a5fd-6dd532f82efa","name":"reParser"}],"metadata":[["@timestamp","datetime","dd/MMM/yyyy HH:mm:ss Z"],["request","string",""],["dst_address","string",""],["response_code","string",""],["remote_flag","string",""],["https","string",""],["raw","string",""],["request_method","string",""],["user_account","string",""],["body_bytes_sent","string",""]],"name":"regex"}', '[{"id":"40926515-ff71-4a08-8f42-1a7e6b3632aa","type":"datetime","key":"@timestamp","format":"dd/MMM/yyyy HH:mm:ss Z","sample":"09/Oct/2017:10:34:55 +0800"},{"id":"8115d1f5-347c-4baf-adf6-d47d1017b263","type":"string","key":"request","sample":"/opt-web-api/v1/cli-20170814/database/_search"},{"id":"a0ad0f64-4407-493b-b16c-14699357cab6","type":"string","key":"response_code","sample":"404"},{"id":"97c045cc-e90c-41b8-9a06-a66d7f9db23e","type":"string","key":"client_flag","sample":"-"},{"id":"ec0c40ab-bb5a-4c9f-9727-080aaff3273d","type":"string","key":"request_method","sample":"POST"},{"id":"7bbff60a-75bf-4b40-a124-10a4e411a243","type":"string","key":"src_address","sample":"127.0.0.1"},{"id":"0f0b5687-bbba-4452-ae96-26a96c0971f3","type":"string","key":"user_account","sample":"-"},{"id":"c03af0b9-97a6-4875-ada8-a92c35a0e9eb","type":"long","key":"bytes_sent","sample":"992"},{"id":"bfe76284-a501-427a-9135-5212b095a9ce","type":"string","key":"protocol_version","sample":"1.0"},{"id":"4d76327e-5a54-4f40-816c-dcfb2bc812d0","type":"string","key":"protocol","sample":"HTTP"}]', '2017-11-02 18:12:24.944000000', '2017-11-02 18:12:24.944000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('3893f269-bb30-4191-87d0-a9ad2af89c25', 'SAMPLATE-WAS-SystemOut', '[10/10/17 15:36:15:526 CST] 00000045 webapp        I com.ibm.ws.webcontainer.webapp.WebApp log SRVE0292I: Servlet Message - [IBM Cognos#p2pd.war]:.cfgss: Adding class library file:/opt/ossinsight/JazzSM/profile/installedApps/JazzSMNode01Cell/IBM Cognos.ear/p2pd.war/WEB-INF/lib/ags.jar', '{"value":"\\[%{DATA:ts}\\]\\s+%{NUMBER:thread_id}\\s+%{WORD:thread_name}\\s*+%{DATA:event_type}\\s+%{ALL:msg}","filter":[{"fields":{"ts":"@timestamp"},"name":"mapping"}],"metadata":[["thread_id","string",""],["@timestamp","datetime","dd/MM/yy HH:mm:ss Z"],["event_type","string",""],["msg","string",""],["thread_name","string",""]],"name":"regex"}', '[{"id":"3d232145-a6bb-4c61-9eb9-15d449ea5d9c","type":"string","key":"thread_id","sample":"00000045"},{"id":"57b4fd05-453e-48ee-b563-d37c67d87f8f","type":"datetime","key":"@timestamp","format":"dd/MM/yy HH:mm:ss Z","sample":"10/10/17 15:36:15:526 CST"},{"id":"633516df-91be-471f-89a6-54fab6e25f04","type":"string","key":"event_type","sample":"I"},{"id":"b8f6d4ba-16e7-424a-a465-01dcc70c22b9","type":"string","key":"msg","sample":"com.ibm.ws.webcontainer.webapp.WebApp log SRVE0292I: Servlet Message - [IBM Cognos#p2pd.war]:.cfgss: Adding class library file:/opt/ossinsight/JazzSM/profile/installedApps/JazzSMNode01Cell/IBM Cognos.ear/p2pd.war/WEB-INF/lib/ags.jar"},{"id":"f8feff07-e250-40c9-b6c2-761b1c2dbf50","type":"string","key":"thread_name","sample":"webapp"}]', '2017-11-02 16:09:39.602000000', '2017-11-02 16:00:50.779000000', 1);
INSERT INTO APP.PARSER (ID, NAME, SAMPLE, PARSER, PROPERTIES, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('5a9519db-2f30-4c8e-a33c-37e4d0800ff8', 'SAMPLATE-WebLogic', '192.168.1.1 - - [17/Mar/2012:16:23:05 +0800] "GET /JSLibrary/educational_text.js HTTP/1.1" 200 39124', '{"value":"%{IPORHOST:src_address}\\s+%{USERNAME:client_flag}\\s+%{USERNAME:user_account}\\s+\\[%{DATA:ts}\\]\\s+\\\"%{DATA:uri}\\\"\\s+%{INT:response_code}\\s+%{INT:bytes_sent}","filter":[{"fields":{"ts":"@timestamp"},"name":"mapping"},{"field":"uri","parser":{"value":"%{WORD:request_method}\\s+%{DATA:request}\\s+%{WORD:protocol}\\/%{ALL:protocol_version}","metadata":[["request","string",""],["protocol","string",""],["protocol_version","string",""],["request_method","string",""]],"name":"regex"},"ref":"53efdd92-cab8-4f85-a5fd-6dd532f82efa","name":"reParser"}],"metadata":[["@timestamp","datetime","dd/MMM/yyyy:HH:mm:ss Z"],["request","string",""],["dst_address","string",""],["response_code","string",""],["user_flag","string",""],["request_method","string",""],["user_account","string",""],["bytes_sent","long",""],["protocol_version","string",""],["protocol","string",""]],"name":"regex"}', '[{"id":"2c607823-4233-4ecb-8b08-0b8d87ec64f4","type":"datetime","key":"@timestamp","format":"dd/MMM/yyyy:HH:mm:ss Z","sample":"Sat Mar 17 16:23:05 CST 2012"},{"id":"a726f8b3-bab4-4bb9-9b3c-738c0b0536d1","type":"string","key":"request","sample":"/JSLibrary/educational_text.js"},{"id":"fd2d7296-74df-47f5-87a4-814d90b493c4","type":"string","key":"response_code","sample":"200"},{"id":"f8dbce81-b2a1-42d0-b346-0c58f554d2ff","type":"string","key":"client_flag","sample":"-"},{"id":"bc0bafb5-61cd-4767-88e3-2e2c6fdec22d","type":"string","key":"request_method","sample":"GET"},{"id":"a2e81798-cf5f-485f-87f1-77ee3146c403","type":"string","key":"src_address","sample":"192.168.1.1"},{"id":"5c921f7c-3139-4bd6-a588-0ddb4ce71b71","type":"string","key":"user_account","sample":"-"},{"id":"7877c145-d63b-4dfd-82c1-5e2f0c4f7466","type":"long","key":"bytes_sent","sample":"39124"},{"id":"69ea45d7-79bd-426f-a4e8-ab92ffb7e292","type":"string","key":"protocol_version","sample":"1.1"},{"id":"a6fb1d75-485e-4c23-9cf5-deda4aeec08b","type":"string","key":"protocol","sample":"HTTP"}]', '2017-11-02 15:32:28.529000000', '2017-11-02 14:08:04.117000000', 1);
INSERT INTO APP.WRITER (ID, NAME, WRITERTYPE, DATA, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('18bf121c-6042-4ccf-9392-b5e8831e9830', 'TEMPLATE-ES5', 'es5', '{"cluster":"#ES_CLUSTER#","hostPorts":#ES_HOSTPORTS#,"index":"logs","indexType":"log","number_of_shards":5,"number_of_replicas":0,"numeric_detection":false,"date_detection":true,"persisRef":{"name":"none"},"name":"es5","cache":1000}', '2017-10-26 13:05:34.516000000', '2017-10-18 11:10:59.618000000', 1);
INSERT INTO APP.WRITER (ID, NAME, WRITERTYPE, DATA, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('9c7c4818-f508-4f23-9b47-f428ebd4f5d6', 'TEMPLATE-SYSLOG', 'net', '{"protocol":{"name":"udp"},"host":"#SYSLOG_HOST#","port":#SYSLOG_PORT#,"contentType":{"name":"syslog","contentType":{"name":"del","delimit":"|+|","fields":"date,ip,port,data"}},"cache":1000,"uri":"net://Some(udp)@Some(10.10.106.91):514","name":"net","client":true}', '2017-10-25 17:49:15.906000000', '2017-10-18 11:14:03.617000000', 1);
INSERT INTO APP.WRITER (ID, NAME, WRITERTYPE, DATA, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('b7eb885f-7336-49ff-9621-6e489291afab', 'TEMPLATE-KAFKA', 'kafka', '{"hostPorts":"#WRITER_KAFKA_HOSTPORTS#","topic":"#WRITER_KAFKA_TOPIC#","contentType":{"name":"json"},"authentication":"NONE","persisRef":{"name":"none"},"cache":1000,"uri":"kafka://10.10.106.69:9092,10.10.106.70:9092/topic_name","name":"kafka"}', '2017-10-25 17:50:33.232000000', '2017-10-18 11:15:08.636000000', 1);
INSERT INTO APP.WRITER (ID, NAME, WRITERTYPE, DATA, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('a963624e-22b9-41f8-a097-df8b3f4eb6db', 'TEMPLATE-Master-log-parser', 'file', '{"path":"#MASTER_PARSER_WRITER#","contentType":{"name":"json"},"persisRef":{"name":"none"},"cache":1000,"uri":"file:///tmp/message.log","name":"file"}', '2017-10-25 18:24:41.808000000', '2017-10-25 18:12:59.421000000', 1);
INSERT INTO APP.WRITER (ID, NAME, WRITERTYPE, DATA, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('09d971ef-9bb9-4fa1-b4b9-0877401ee295', 'TEMPLATE-Master-log-analyzer', 'file', '{"path":"#MASTER_ANALYZER_WRITER#","contentType":{"name":"json"},"persisRef":{"name":"none"},"cache":1000,"uri":"file:///tmp/message.log","name":"file"}', '2017-10-25 18:24:31.829000000', '2017-10-25 18:24:31.829000000', 1);
INSERT INTO APP.ANALYZER (ID, NAME, DATA, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('9d13e5e7-fbe2-402e-b1b3-c0dd63f34e19', 'TEMPLATE-Master-log', '{"resolverId":"4165e7b2-e98e-437f-80de-2a65bbd2eedf","sql":"select hostname, code, action, `@timestamp`, msg from master_log","timeCharacteristic":"ProcessingTime","maxOutOfOrderness":10000,"name":"sql"}', '2017-10-25 17:48:00.374000000', '2017-10-25 17:48:00.374000000', 1);
INSERT INTO APP.KNOWLEDGE (ID, NAME, DRIVERID, COLLECTORID, PARSERID, STATUS, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('296b4b2f-257c-4933-9190-060cd735962f', 'TEMPLATE-OMDB', 'fd0b02db-021f-4437-b5dd-d02b1faa07fb', 'wxn', 'de6b5fa5-5aff-4529-bbd2-3e7f2d14ccf1', 'NOT_EXEC', '2017-10-25 17:11:59.665000000', '2017-10-16 18:56:43.566000000', 1);
INSERT INTO APP.CONFIG (ID, NAME, DATA, STATUS, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('286c5e87-e02f-4275-80dd-6d77f5288b85', 'TEMPLATE-Master-log-channel', '{"id":"286c5e87-e02f-4275-80dd-6d77f5288b85","name":"TEMPLATE-Master-log-channel","datasource":"67c5d8f0-3e14-456c-94a6-989155bdc2a0","parser":"4165e7b2-e98e-437f-80de-2a65bbd2eedf","writers":["a963624e-22b9-41f8-a097-df8b3f4eb6db"],"type": { "name": "parser"},"status":"WORKER_STOPPED","collector":"wxn","properties":{"timeout_ms":"100","receive_time":"true","collector_info":"true","raw_data":"true","polling_ms":"1000","source_info":"false","source_path":"false"},"isSample":0}', null, '2017-10-25 18:25:36.223000000', '2017-10-25 18:22:06.248000000', 1);
INSERT INTO APP.CONFIG (ID, NAME, DATA, STATUS, LAST_TIME, CREATE_TIME, IS_SAMPLE) VALUES ('72f635f9-e82d-4828-936e-25e246ce6d64', 'TEMPLATE-Master-log-channel', '{"id":"fdc945fe-3c4f-44ad-9181-bae73ef7a321","name":"TEMPLATE-Master-log-channel","datasource":"286c5e87-e02f-4275-80dd-6d77f5288b85","parser":"9d13e5e7-fbe2-402e-b1b3-c0dd63f34e19","writers":["09d971ef-9bb9-4fa1-b4b9-0877401ee295"],"type": { "name": "analyzer" ,"cluster":"http://#FLINK_HOSTPORTS#"},"collector":"wxn","properties":{"timeout_ms":"100","polling_ms":"1000"},"isSample":0}', null, '2017-10-25 18:28:52.583000000', '2017-10-25 18:28:52.583000000', 1);


exit;